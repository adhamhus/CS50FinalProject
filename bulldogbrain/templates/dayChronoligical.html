{% extends "layout.html" %}

{% block title %}
    Urgent
{% endblock %}

{% block main %}
<strong style = "position: relative; top: -100px; font-size: 40px" >Today</strong>
    <div class="row">
    <div class="column">
        <h2 style = "position:relative;top:-55px">Assignments</h2>
            <table style = "position:relative;top:-55px" class="table table-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th>Assignment</th>
                        <th>Course</th>
                        <th>Deadline</th>
                        <th>Important</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- TODO: Loop through the database entries to display them in this table -->
                    {% for assignments in assignments %}
                    <tr>
                        <td>
                            <form id="completion" action="/list" method="post">
                                <input autocomplete="off" type="checkbox" id="assignment_id" name="assignment_id" value="{{ assignments.id }}" onclick="submit()" required>
                            </form>
                            <!-- Source: https://www.quora.com/How-can-I-submit-two-forms-with-one-button -->
                            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
                            <script> 
                            function submit() {
                             $(document).ready(function () { 
                               $("#completion").submit(); 
                             });
                             }
                            </script>
                        </td>
                        <td>{{ assignments.title }}</td>
                        <td>{{ assignments.course }}</td>
                        <td>{{ assignments.date }} @ {{ assignments.time }}</td>
                        <td>{{ assignments.importance }}</td>
                        <td>{{ assignments.notes }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="column">
            <h2 style = "position:relative;top:-55px;">Events</h2>
            <table style = "position:relative;top:-55px" class="table table-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th>Event</th>
                        <th>Start</th>
                        <th>End</th>
                        <th>Location</th>
                        <th>Important</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- TODO: Loop through the database entries to display them in this table -->
                    {% for events in events %}
                    <tr>
                        <td>
                            <form id="completion" action="/list" method="post">
                                <input autocomplete="off" type="checkbox" id="event_id" name="event_id" value="{{ events.event_id }}" onclick="submit()" required>
                            </form>
                            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
                            <script> 
                            function submit() {
                             $(document).ready(function () { 
                               $("#completion").submit(); 
                             });
                             }
                            </script>
                        </td>
                        <td>{{ events.title }}</td>
                        <td>{{ events.start_date }} @ {{ events.start_time }}</td>
                        <td>{{ events.end_date }} @ {{ events.end_time }}</td>
                        <td>{{ events.location }}</td>
                        <td>{{ events.importance }}</td>
                        <td>{{ events.notes }}</td>    
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
